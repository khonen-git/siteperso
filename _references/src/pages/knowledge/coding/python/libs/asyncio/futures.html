<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/src/assets/css/main.css">
    <script src="/src/assets/js/scripts.js"></script>
    <script src="/src/assets/js/knowledge/data-analytics/mathematics/probabilities/probability-distributions/continuous-probability-distributions/normal-distribution.js"></script>
    <link rel="stylesheet" href="/src/assets/lib/katex/katex.css">
    <script src="/src/assets/lib/katex/katex.js"></script>
    <title>Votre Nom - Data Analyst</title>
</head>
<body>
    <nav class="header-menu">
        <ul class="header-menu__list">
            <li class="header-menu__item">
                <a class="header-menu__link" href="/src/index.html">Accueil</a>
            </li>
            <li class="header-menu__item">
                <a class="header-menu__link" href="/src/about.html">À Propos</a>
            </li>
            <li class="header-menu__item">
                <a class="header-menu__link" href="/src/knowledge/index.html">Connaissances</a>
            </li>
            <li class="header-menu__item">
                <a class="header-menu__link" href="/src/projects/index.html">Projets Réalisés</a>
            </li>
            <li class="header-menu__item">
                <a class="header-menu__link" href="/src/contact.html">Contact</a>
            </li>
        </ul>
    </nav>
    
    <div class="knowledge-container">
        
        <iframe class="knowledge-iframe" src="/src/knowledge/utils/knowledge-nav.html"></iframe>
    
        <main class="knowledge-content">
            <section id="python-asyncio__introduction">
                <h1>Futures</h1>
                <p>
                    Les Futures dans asyncio sont des objets de bas niveau qui servent à représenter un résultat éventuel d'une opération asynchrone. Ils sont utilisés principalement en interne par asyncio, mais peuvent aussi être utilisés directement pour des cas d'usage avancés. Un Future est similaire à une promesse dans d'autres langages de programmation.
                </p>
            </section>
            <section id="python-asyncio__keys-concepts">
                <h2>Création et Utilisation d'un Future</h2>
                <p>
                    Voici un exemple basique de création et d'utilisation d'un Future :
                </p>
                <pre><code>
import asyncio

async def set_future_result(future, result):
    await asyncio.sleep(1)
    future.set_result(result)

async def main():
    # Création d'un Future
    future = asyncio.Future()

    # Planification de la mise à jour du résultat du Future
    asyncio.create_task(set_future_result(future, 'Résultat secret'))

    # Attente du résultat du Future
    result = await future
    print(result)

asyncio.run(main())                                                                                                      
                </code></pre>
                <p>
                    Dans cet exemple, future est un objet Future. La coroutine set_future_result est planifiée pour mettre à jour le résultat de future après un délai. La coroutine main attend le résultat du future.
                </p>
                <h2>Utilisation des Futures pour l'Intégration avec des Callbacks</h2>
                <p>
                    Les Futures peuvent être utilisés pour intégrer des fonctions de rappel (callbacks) avec des coroutines.
                </p>
                <pre><code>
def callback(future, result):
    future.set_result(result)

async def main():
    future = asyncio.Future()

    # Planifier le callback pour mettre à jour le Future
    loop = asyncio.get_running_loop()
    loop.call_soon(callback, future, 'Résultat via callback')

    # Attendre et obtenir le résultat
    result = await future
    print(result)

asyncio.run(main())
                </code></pre>
                <p>
                    Ici, call_soon est utilisé pour planifier l'exécution d'un callback qui met à jour le future. La coroutine main attend ensuite le résultat de ce future.
                </p>
                <h2>Futures et Interaction avec des Bibliothèques Externes</h2>
                <p>
                    Les Futures sont particulièrement utiles lors de l'interaction avec des bibliothèques externes qui utilisent des callbacks pour signaler les résultats.
                </p>
                <pre><code>
def external_library_callback(result, future):
    future.set_result(result)

async def main():
    future = asyncio.Future()

    # Ici, on simule un appel à une bibliothèque externe qui utilise des callbacks
    simulate_external_library_call(lambda result: external_library_callback(result, future))

    # Attendre le résultat
    result = await future
    print(f"Résultat obtenu : {result}")

asyncio.run(main())
                </code></pre>
                <p>
                    Dans cet exemple, une fonction simulée (simulate_external_library_call) utilise un callback pour signaler un résultat. Le callback met à jour un Future, dont le résultat est ensuite attendu de manière asynchrone.
                </p>
            </section>
        </main>
    </div>

    <footer>
        <p><a href="/src/credits.html">Crédits</a> | <a href="/src/contact.html">Contact</a> | <a href="/src/curriculum-vitae.html">Curriculum vitae</a></p>
    </footer>
    
</body>
</html>